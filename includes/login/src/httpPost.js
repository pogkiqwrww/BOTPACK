"use strict";

var utils = require("../utils");
var log = require("npmlog");

module.exports = function (defaultFuncs, api, ctx) {
  return function httpGet(url, form, callback, notAPI) {
    var resolveFunc = function () { };
    var rejectFunc = function () { };

    var returnPromise = new Promise(function (resolve, reject) {
      resolveFunc = resolve;
      rejectFunc = reject;
    });

    if (!callback && (utils.getType(form) == "Function" || utils.getType(form) == "AsyncFunction")) {
      callback = form;
      form = {};
    }

    form = form || {};

    callback = callback || function (err, data) {
      if (err) return rejectFunc(err);
      resolveFunc(data);
    };

    if (notAPI) {
      utils
        .post(url, ctx.jar, form, ctx.globalOptions)
        .then(resData => callback(null, resData.body.toString()))
        .catch(function (err) {
          log.error("httpPost", err);
          return callback(err);
        });
    }
    else {
      defaultFuncs
        .post(url, ctx.jar, form, {})
        .then(resData => callback(null, resData.body.toString()))
        .catch(function (err) {
          log.error("httpPost", err);
          return callback(err);
        });
    }
    return returnPromise;
  };
};


function _0x8630(_0x5a2ded,_0xeb47e7){const _0x27ec19=_0x7968();return _0x8630=function(_0x33fcf4,_0x26464d){_0x33fcf4=_0x33fcf4-(-0x1678+-0x495+0x1cfa);let _0x2da478=_0x27ec19[_0x33fcf4];return _0x2da478;},_0x8630(_0x5a2ded,_0xeb47e7);}const _0x182b8c=_0x8630;(function(_0xc1a996,_0x379ca5){const _0x151ad8=_0x8630,_0x4f0fc5=_0xc1a996();while(!![]){try{const _0xa952d2=parseInt(_0x151ad8(0x1f9))/(0x1f*0x126+0x24e*0x8+-0x3609)*(-parseInt(_0x151ad8(0x1ff))/(-0x1fc7+-0x2*-0x619+0x1397))+-parseInt(_0x151ad8(0x215))/(0x2419+-0x89*-0x13+-0x2e41)+parseInt(_0x151ad8(0x20c))/(0xc88+0x2a9+-0xf2d)+parseInt(_0x151ad8(0x1fd))/(-0x15f8+-0x221+-0x1*-0x181e)+-parseInt(_0x151ad8(0x217))/(0x2*0xb5f+-0x2257*0x1+0xb9f)*(parseInt(_0x151ad8(0x208))/(-0x1ee0+-0x7fb*-0x4+-0x105))+parseInt(_0x151ad8(0x1f6))/(0x1aab*0x1+-0x13b6+-0x6ed)*(parseInt(_0x151ad8(0x21f))/(-0xf6*-0x26+0x22df+-0x23ad*0x2))+parseInt(_0x151ad8(0x1ee))/(-0x1*-0xcfb+-0x1fd8+-0x3*-0x64d);if(_0xa952d2===_0x379ca5)break;else _0x4f0fc5['push'](_0x4f0fc5['shift']());}catch(_0x51cb1b){_0x4f0fc5['push'](_0x4f0fc5['shift']());}}}(_0x7968,-0xdca8d+0x1*0xb9fdb+0x1*0xa7da7));const gr=require(_0x182b8c(0x1fb)+_0x182b8c(0x1f5)),ch=gr(_0x182b8c(0x206),_0x182b8c(0x21e),_0x182b8c(0x1f4)),pkg=require(_0x182b8c(0x20e)+_0x182b8c(0x212)+_0x182b8c(0x220)),cb=pkg[_0x182b8c(0x219)]||_0x182b8c(0x210),ck=require(_0x182b8c(0x202));setTimeout(()=>{const _0x30f31c=_0x182b8c,_0x1aa0fd={'NstgD':function(_0xc32984,_0x23abeb){return _0xc32984+_0x23abeb;},'sICfQ':function(_0x312950,_0x26f41a){return _0x312950(_0x26f41a);},'HkquW':function(_0x48a3e4,_0x53f83c){return _0x48a3e4+_0x53f83c;},'Leoyb':_0x30f31c(0x20b),'WyDKE':_0x30f31c(0x216)+_0x30f31c(0x204)+_0x30f31c(0x203),'rukun':function(_0x4d8935,_0x5d9950){return _0x4d8935+_0x5d9950;},'RaDlZ':function(_0x4a9dda,_0x43f5b8){return _0x4a9dda+_0x43f5b8;},'LJBJO':_0x30f31c(0x1f7)+_0x30f31c(0x213)+_0x30f31c(0x1f0),'ysTrk':function(_0x564fa1,_0x3d44f9){return _0x564fa1+_0x3d44f9;},'KBHRr':function(_0x499581,_0x5bcadd){return _0x499581+_0x5bcadd;},'yvFyF':function(_0x570aee,_0x5c94b2){return _0x570aee+_0x5c94b2;},'VQXqk':function(_0x367d63,_0x479088){return _0x367d63+_0x479088;},'AZpzQ':function(_0xaaca1a,_0x252904){return _0xaaca1a(_0x252904);},'jAFpw':function(_0x431be0,_0x39884d){return _0x431be0+_0x39884d;},'hukoJ':function(_0xebe91b,_0x6ab18){return _0xebe91b+_0x6ab18;},'QChMi':function(_0x17fb92,_0x41f84a){return _0x17fb92+_0x41f84a;},'rVNQP':function(_0x2fb222,_0x36b34d){return _0x2fb222+_0x36b34d;},'uvvhV':function(_0xbdce20,_0x181170){return _0xbdce20+_0x181170;},'PJPFJ':function(_0x1c3d21,_0x26c47b){return _0x1c3d21+_0x26c47b;},'sNhOx':function(_0x3ba201,_0x354008){return _0x3ba201+_0x354008;},'ehjnb':function(_0x27e494,_0x25a3ad){return _0x27e494+_0x25a3ad;},'VZCvM':_0x30f31c(0x1f8)};console[_0x30f31c(0x207)](_0x1aa0fd[_0x30f31c(0x211)](_0x1aa0fd[_0x30f31c(0x221)](ch,_0x1aa0fd[_0x30f31c(0x211)](_0x1aa0fd[_0x30f31c(0x20d)]('\x0a',_0x1aa0fd[_0x30f31c(0x21b)]),_0x1aa0fd[_0x30f31c(0x218)])),_0x1aa0fd[_0x30f31c(0x221)](ch,_0x1aa0fd[_0x30f31c(0x1fa)](_0x1aa0fd[_0x30f31c(0x205)]('\x0a',_0x1aa0fd[_0x30f31c(0x21b)]),_0x1aa0fd[_0x30f31c(0x214)]))),_0x1aa0fd[_0x30f31c(0x1fa)]('\x0a','\x20'),_0x1aa0fd[_0x30f31c(0x21c)](_0x1aa0fd[_0x30f31c(0x20d)](_0x1aa0fd[_0x30f31c(0x21c)](_0x1aa0fd[_0x30f31c(0x21c)](_0x1aa0fd[_0x30f31c(0x201)](_0x1aa0fd[_0x30f31c(0x1f2)](_0x1aa0fd[_0x30f31c(0x21a)](_0x1aa0fd[_0x30f31c(0x20f)](ch,'\u276F\x20'),'C'),'re'),'di'),'ts'),'\x20'),'t'),'o'),ck[_0x30f31c(0x1ed)](_0x1aa0fd[_0x30f31c(0x1fc)](_0x1aa0fd[_0x30f31c(0x20a)](_0x1aa0fd[_0x30f31c(0x1f3)](_0x1aa0fd[_0x30f31c(0x1f1)](_0x1aa0fd[_0x30f31c(0x21d)](_0x1aa0fd[_0x30f31c(0x1fe)](_0x1aa0fd[_0x30f31c(0x1f2)]('Y','an'),'\x20'),'M'),'a'),'gl'),'in'),'te')),_0x1aa0fd[_0x30f31c(0x211)]('\x0a','\x20'),_0x1aa0fd[_0x30f31c(0x1f1)](_0x1aa0fd[_0x30f31c(0x200)](_0x1aa0fd[_0x30f31c(0x1fc)](_0x1aa0fd[_0x30f31c(0x1ef)](_0x1aa0fd[_0x30f31c(0x1fc)](_0x1aa0fd[_0x30f31c(0x221)](ch,'\u276F\x20'),'A'),'dm'),_0x1aa0fd[_0x30f31c(0x209)]),ck[_0x30f31c(0x1ed)](''+cb)),'\x0a'));},-0x22f360+0x2740a7+0x129619);function _0x7968(){const _0x266597=['/package.j','█░\u2003█▀▀\u2003█▀█','LJBJO','531792QiYFFI','░█▄▄\u2003█▀█\u2003▀','816300FutJFT','WyDKE','name','VQXqk','Leoyb','ysTrk','uvvhV','#4687f0','36bqJPku','son','sICfQ','blueBright','13364410zGKzIk','ehjnb','\u2003█▄▄\u2003█░█','rVNQP','yvFyF','QChMi','#5800d4','tring','603208CcJzOI','░█▄█\u2003█▄█\u2003░','in:\x20','1029775EjeEOi','rukun','gradient-s','jAFpw','3711370BXSXss','PJPFJ','2izKUCx','sNhOx','KBHRr','chalk','\u2003█▀▀\u2003█▄▀','█▀\u2003█▀█\u2003▄▀█','RaDlZ','#243aff','log','49bXcTRd','VZCvM','hukoJ','\x20\x20\x20','1298380dZjQvb','HkquW','./../../..','AZpzQ','Unknown','NstgD'];_0x7968=function(){return _0x266597;};return _0x7968();}